
@{
    ViewBag.Title = "Employee Login ";
    Layout = null;
}

<!DOCTYPE html>
<link rel="stylesheet" href="~/Contents/css/theme.css" />
<link href="~/Contents/css/custom-icon-set.css" rel="stylesheet" />
<link href="~/Contents/css/skins/default.css" rel="stylesheet" />
<link href="~/Contents/css/theme-custom.css" rel="stylesheet" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="~/Contents/css/bootstrap.css" />
<script src="~/Contents/js/jquery-3.3.1.min.js"></script>

<link href="~/Contents/SweetAlert/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet" />
<script src="~/Contents/SweetAlert/sweetalert2/dist/sweetalert2.min.js"></script>
<head>
    <title> Employee Login||Mendine </title>
</head>
<body>
    <!-- start: page -->
    <section class="body-sign body-locked ">
        <div class="center-sign">
            <div class="panel panel-sign">
                <div href="/" class="logo center">
                    @*<img src="~/Contents/images/logo.png" alt="uniCONTROL" />*@
                    <span style="font-size: 30px;font-weight: bold;"> </span>
                    <div class="clearfix-height30"></div>
                </div>
                <div class="panel-body">
                    <a class="h2  text-blue">Sign In</a>
                    <div class="clearfix-height30"></div>
                    @*<form action="AdminDashboard.html" method="post">*@
                    <div class="form-group mb-lg">
                        <label>Email</label>
                        <div class="input-group input-group-icon">
                            <input name="username" type="text" id="txtEmail" class="form-control input-lg" tabindex="1" />
                            <span class="input-group-addon">
                                <span class="icon icon-lg">
                                    <i class="fa fa-envelope"></i>
                                </span>
                            </span>

                        </div>
                        <span id="msgUsername" style="color:red;"></span>
                    </div>

                    <div class="form-group mb-lg">
                        <div class="clearfix">
                            <label class="pull-left">Password</label>
                            @*<a href="recover_password.html" class="pull-right">Lost Password?</a>*@
                        </div>
                        <div class="input-group input-group-icon">
                            <input name="pwd" type="password" id="txtPassword" class="form-control input-lg" tabindex="2" />
                            <span class="input-group-addon">
                                <span class="icon icon-lg">
                                    <i class="fa fa-lock"></i>
                                </span>
                            </span>
                        </div>
                        <span id="msgPassword" style="color:red;"></span>
                    </div>

                    <div class="row">
                        <div class="col-sm-8">
                            <div class="checkbox-custom checkbox-default">
                                @*<input id="RememberMe" name="rememberme" type="checkbox" />
                                    <label for="RememberMe">Remember Me</label>*@
                            </div>
                        </div>
                        <div class="col-sm-4 text-right">
                            <button type="button" id="BtnSignIn" class="btn btn-primary" onclick="return EmployeeLogin();" tabindex="3">Sign In</button>
                        </div>
                        <div class="clearfix-height40"></div>
                    </div>


                    @*</form>*@
                </div>
            </div>
        </div>
    </section>
</body>

<script>
        $(document).ready(function () {
            $("#txtEmail,#txtPassword").on('keyup', function () {
                if (event.keyCode === 13) {
                    event.preventDefault();
                    document.getElementById("BtnSignIn").click();
                }
            });
        });
    function EmployeeLogin() {
        var jq = jQuery.noConflict();
        
       
        var UserName = jq("#txtEmail").val();
        var Password = jq("#txtPassword").val();


        if (UserName == "") {
            jq("#msgUsername").html("Please Enter Email");

            return false;
        }
        else {
            jq("#msgUsername").html("");
        }

        if (Password == "") {
            jq("#msgPassword").html("Please Enter Password");

            return false;
        }
        else {
            jq("#msgPassword").html("");
        }
        swal({
            title: "Please Wait....",
            allowEscapeKey: false,
            allowOutsideClick: false,
            onOpen: () => {
                swal.showLoading();
            }
        });
        jq.ajax({

            type: "Post",
            url: '/Login/EmployeeLogin',
            data: {
                "Email": UserName, "Password": Password
            },
            dataType:"JSON",
            success: function (data) {
                
                swal.close();
                if (data == "1") {

                    //swal({
                    //    title: "Success!",
                    //    text: "Login Successfully!",
                    //    type: "success"
                    //}).then(function () {
                    // window.location.href = "/PayConfig";
                    // });
                    window.location.href = "/Dashboard";

                }
                else {

                    swal("Error", "UserName or Password Is Incorrect..!!", "error");


                }
            },
            error: function (er) {
                
            }
        });

    }

</script>
